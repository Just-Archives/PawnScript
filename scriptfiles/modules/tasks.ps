/*
*
*  	PawnScript
*
* 	Test File
*   Brace Inc.
*
*
*/

console.println("========================== tasks.dpp ==========================");

@task;
	this->interval=1000;
void testtask() public;
{
	console.println("Task works!");
	console.rawout.log(1+1+2);
}

@task;
	this->interval=3000;
void anothersexytask() public;
{
	console.println("Another task also works!");
	samp.SendClientMessage(0,0,"Test client message");
}

@task
	this->interval=1000
void supercooltask() public
{
	new.int,process_speed=__procspeed
	console.println.log("Process execution speed: {process_speed} Hz")
	#undef:process_speed

	// pri=1
	#emit:const.pri,1
	// sec=pri
	#emit:sctrl,2
	// pri=nxt
	#emit:lctrl,4
	// cur=pri
	#emit:sctrl,1
	//Validate this memory address:
	#emit:push
	#emit:dtyp,1
	#emit:csnm,AfterLongTime
	#emit:vlset,3493
	console.println.log("My value is {AfterLongTime}")
	#emit:pop
	#emit:zero.pri
	#emit:zero.alt
	console.println.log("My value is {AfterLongTime}")
}

@extern
int OnPlayerConnect(playerid) public
{
	samp.SendClientMessage(playerid@OnPlayerConnect,0,"Welcome to the D++ server");
}

@extern
int OnPlayerDisconnect(playerid, reason) public
{
	console.println("Player {playerid@OnPlayerDisconnect} disconnected | Reason: {reason@OnPlayerDisconnect}");
	return int 1
}

console.println.log("Tasks are working ig");
